{"id":"aiobscura-171","title":"Phase 6: TUI implementation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-06T14:39:49.657001-05:00","updated_at":"2025-12-08T23:20:55.168263-05:00","closed_at":"2025-12-08T23:20:55.168263-05:00","dependencies":[{"issue_id":"aiobscura-171","depends_on_id":"aiobscura-8xl","type":"blocks","created_at":"2025-12-06T14:41:02.565675-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-21n","title":"UI status indicator for live mode","description":"Show Live indicator in TUI when sync daemon is running","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T20:53:51.607312-05:00","updated_at":"2025-12-08T21:04:11.686192-05:00","closed_at":"2025-12-08T21:04:11.686192-05:00","dependencies":[{"issue_id":"aiobscura-21n","depends_on_id":"aiobscura-3ta","type":"blocks","created_at":"2025-12-08T20:53:57.329611-05:00","created_by":"daemon"},{"issue_id":"aiobscura-21n","depends_on_id":"aiobscura-63d","type":"blocks","created_at":"2025-12-08T20:53:57.540639-05:00","created_by":"daemon"}]}
{"id":"aiobscura-2nd","title":"Add --watch mode to aiobscura-sync","description":"Add continuous polling mode to sync CLI using existing checkpoint system","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T20:53:51.221098-05:00","updated_at":"2025-12-08T21:02:23.132824-05:00","closed_at":"2025-12-08T21:02:23.132824-05:00","dependencies":[{"issue_id":"aiobscura-2nd","depends_on_id":"aiobscura-3ta","type":"blocks","created_at":"2025-12-08T20:53:57.178295-05:00","created_by":"daemon"}]}
{"id":"aiobscura-3ta","title":"Live Capture \u0026 TUI Auto-Refresh","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-08T20:53:44.030196-05:00","updated_at":"2025-12-08T21:04:16.278674-05:00","closed_at":"2025-12-08T21:04:16.278674-05:00"}
{"id":"aiobscura-514","title":"Phase 2: Parser framework \u0026 Claude Code parser","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T14:39:08.383207-05:00","updated_at":"2025-12-06T22:40:37.814997-05:00","closed_at":"2025-12-06T22:40:37.814997-05:00","dependencies":[{"issue_id":"aiobscura-514","depends_on_id":"aiobscura-cqj","type":"blocks","created_at":"2025-12-06T14:40:21.616165-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-5m4","title":"Plugin timeout and error handling","description":"Timeout enforcement for analytics plugins (error handling and run logging already implemented).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:57.895216-05:00","updated_at":"2025-12-19T15:08:31.202165-05:00","dependencies":[{"issue_id":"aiobscura-5m4","depends_on_id":"aiobscura-af1","type":"blocks","created_at":"2025-12-08T23:23:03.574862-05:00","created_by":"daemon"}]}
{"id":"aiobscura-63d","title":"TUI smart refresh with selection preservation","description":"Implement refresh_current_view() that reloads data while preserving scroll position and selection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T20:53:51.473704-05:00","updated_at":"2025-12-08T21:02:08.899605-05:00","closed_at":"2025-12-08T21:02:08.899605-05:00","dependencies":[{"issue_id":"aiobscura-63d","depends_on_id":"aiobscura-3ta","type":"blocks","created_at":"2025-12-08T20:53:57.280809-05:00","created_by":"daemon"},{"issue_id":"aiobscura-63d","depends_on_id":"aiobscura-wzk","type":"blocks","created_at":"2025-12-08T20:53:57.491729-05:00","created_by":"daemon"}]}
{"id":"aiobscura-8pk","title":"Refactor message formatting into shared module","description":"Extract roleâ†’style/label mapping into shared function. Consolidate get_message_content() and get_message_preview(). Create message_format module for all message display logic. Ensure consistency between Thread Detail and Session Detail views.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T16:05:49.891755-05:00","updated_at":"2025-12-16T16:06:01.469382-05:00"}
{"id":"aiobscura-8xl","title":"Phase 5: LLM assessment infrastructure","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-06T14:39:39.333858-05:00","updated_at":"2025-12-06T14:39:39.333858-05:00","dependencies":[{"issue_id":"aiobscura-8xl","depends_on_id":"aiobscura-9gb","type":"blocks","created_at":"2025-12-06T14:40:52.329045-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-9gb","title":"Phase 4: Analytics framework \u0026 first-order metrics","description":"Analytics framework is implemented; remaining work is first-order metrics plugin plus wiring triggers/timeouts.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-06T14:39:29.018889-05:00","updated_at":"2025-12-19T15:08:46.053069-05:00","dependencies":[{"issue_id":"aiobscura-9gb","depends_on_id":"aiobscura-kfv","type":"blocks","created_at":"2025-12-06T14:40:42.079976-05:00","created_by":"kulesh"},{"issue_id":"aiobscura-9gb","depends_on_id":"aiobscura-pjp","type":"blocks","created_at":"2025-12-08T23:23:22.458016-05:00","created_by":"daemon"},{"issue_id":"aiobscura-9gb","depends_on_id":"aiobscura-5m4","type":"blocks","created_at":"2025-12-08T23:23:27.118267-05:00","created_by":"daemon"},{"issue_id":"aiobscura-9gb","depends_on_id":"aiobscura-xie","type":"blocks","created_at":"2025-12-08T23:23:27.162869-05:00","created_by":"daemon"}]}
{"id":"aiobscura-a92","title":"FirstOrderMetrics plugin (tokens, tool calls, errors)","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:57.774459-05:00","updated_at":"2025-12-08T23:22:57.774459-05:00","dependencies":[{"issue_id":"aiobscura-a92","depends_on_id":"aiobscura-d06","type":"blocks","created_at":"2025-12-08T23:23:03.485136-05:00","created_by":"daemon"}]}
{"id":"aiobscura-af1","title":"AnalyticsPlugin trait and AnalyticsEngine","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:51.128416-05:00","updated_at":"2025-12-15T21:58:39.591524-05:00","closed_at":"2025-12-15T21:58:39.591524-05:00","close_reason":"Implemented: AnalyticsPlugin trait, AnalyticsEngine, EditChurnAnalyzer plugin, database support"}
{"id":"aiobscura-cqj","title":"Phase 1: Core types, database, logging","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T14:38:58.06021-05:00","updated_at":"2025-12-06T15:02:50.991935-05:00","closed_at":"2025-12-06T15:02:50.991935-05:00","dependencies":[{"issue_id":"aiobscura-cqj","depends_on_id":"aiobscura-fej","type":"blocks","created_at":"2025-12-06T14:40:11.394063-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-d06","title":"session_metrics and plugin_metrics tables","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:57.651744-05:00","updated_at":"2025-12-19T15:08:11.933926-05:00","closed_at":"2025-12-19T15:08:11.933926-05:00","close_reason":"Implemented: session_metrics and plugin_metrics tables exist in schema","dependencies":[{"issue_id":"aiobscura-d06","depends_on_id":"aiobscura-af1","type":"blocks","created_at":"2025-12-08T23:23:03.395394-05:00","created_by":"daemon"}]}
{"id":"aiobscura-fej","title":"Phase 0: Workspace restructure","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T14:38:47.744632-05:00","updated_at":"2025-12-06T14:42:29.337361-05:00","closed_at":"2025-12-06T14:42:29.337361-05:00"}
{"id":"aiobscura-gw7","title":"Ubiquitous language follow-ups","description":"Track follow-up work from the ubiquitous language/type system review (agent subtypes, author roles, outcomes, workflow tagging).","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:03:30.596827-05:00","updated_at":"2025-12-19T15:03:44.352392-05:00"}
{"id":"aiobscura-gw7.1","title":"Capture agent thread subtype","description":"Add a lightweight agent subtype field (thread_subtype or metadata) for agent threads; surface in schema/types and UI where useful.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T15:04:02.325079-05:00","updated_at":"2025-12-19T15:24:30.583555-05:00","closed_at":"2025-12-19T15:24:30.583555-05:00","close_reason":"Implemented agent subtype capture and UI labeling","dependencies":[{"issue_id":"aiobscura-gw7.1","depends_on_id":"aiobscura-gw7","type":"parent-child","created_at":"2025-12-19T15:04:02.325857-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.2","title":"Assign AuthorRole::Agent for agent-thread messages","description":"Update parsers to emit AuthorRole::Agent (with author_name) for agent-thread messages; ensure timeline/UI stays consistent.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T15:04:10.361308-05:00","updated_at":"2025-12-19T16:38:01.651753-05:00","closed_at":"2025-12-19T16:38:01.651753-05:00","close_reason":"Claude agent threads emit AuthorRole::Agent","dependencies":[{"issue_id":"aiobscura-gw7.2","depends_on_id":"aiobscura-gw7","type":"parent-child","created_at":"2025-12-19T15:04:10.361989-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.3","title":"Outcome tracking via plugin_metrics","description":"Prototype outcome capture as plugin_metrics (success, evidence_type, notes) before adding a first-class table.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T15:04:19.863665-05:00","updated_at":"2025-12-19T15:04:19.863665-05:00","dependencies":[{"issue_id":"aiobscura-gw7.3","depends_on_id":"aiobscura-gw7","type":"parent-child","created_at":"2025-12-19T15:04:19.864637-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.4","title":"Workflow tagging approach","description":"Define lightweight workflow grouping (e.g., session metadata tag) and evaluate if/when to promote to a Workflow entity.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T15:04:27.619815-05:00","updated_at":"2025-12-19T15:04:27.619815-05:00","dependencies":[{"issue_id":"aiobscura-gw7.4","depends_on_id":"aiobscura-gw7","type":"parent-child","created_at":"2025-12-19T15:04:27.620754-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5","title":"First-order metrics registry and semantic discovery","description":"Implement first-order metrics as plugin_metrics with a typed wrapper plus a registry and semantic discovery API for metric lookup.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T17:00:25.096611-05:00","updated_at":"2025-12-19T17:18:08.777433-05:00","closed_at":"2025-12-19T17:18:08.777433-05:00","close_reason":"Completed","dependencies":[{"issue_id":"aiobscura-gw7.5","depends_on_id":"aiobscura-gw7","type":"parent-child","created_at":"2025-12-19T17:00:25.097607-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5.1","title":"Define metrics registry schema and API","description":"Add MetricDescriptor (plugin/entity/name/value_type/summary/description), list/query helpers, and constants for first-order metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:00:43.038362-05:00","updated_at":"2025-12-19T17:04:00.748782-05:00","closed_at":"2025-12-19T17:04:00.748782-05:00","close_reason":"Added metrics registry schema and list/query helpers","dependencies":[{"issue_id":"aiobscura-gw7.5.1","depends_on_id":"aiobscura-gw7.5","type":"parent-child","created_at":"2025-12-19T17:00:43.039292-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5.2","title":"Semantic discovery for metrics","description":"Implement search_metrics(query) using descriptor summaries/descriptions with LLM/embedding option and string-match fallback.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:00:50.776674-05:00","updated_at":"2025-12-19T17:06:12.530395-05:00","closed_at":"2025-12-19T17:06:12.530395-05:00","close_reason":"Added semantic search API with scoring fallback","dependencies":[{"issue_id":"aiobscura-gw7.5.2","depends_on_id":"aiobscura-gw7.5","type":"parent-child","created_at":"2025-12-19T17:00:50.777592-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5.3","title":"Implement core.first_order plugin","description":"Compute first-order session metrics (tokens, tool calls, errors, duration, breakdowns) and store in plugin_metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:00:57.644239-05:00","updated_at":"2025-12-19T17:10:20.895397-05:00","closed_at":"2025-12-19T17:10:20.895397-05:00","close_reason":"Implemented","dependencies":[{"issue_id":"aiobscura-gw7.5.3","depends_on_id":"aiobscura-gw7.5","type":"parent-child","created_at":"2025-12-19T17:00:57.645178-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5.4","title":"Typed wrapper for first-order metrics","description":"Add typed accessor that reads plugin_metrics for core.first_order and returns a struct for UI/consumers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:01:05.019792-05:00","updated_at":"2025-12-19T17:13:31.059225-05:00","closed_at":"2025-12-19T17:13:31.059225-05:00","close_reason":"Implemented","dependencies":[{"issue_id":"aiobscura-gw7.5.4","depends_on_id":"aiobscura-gw7.5","type":"parent-child","created_at":"2025-12-19T17:01:05.020882-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-gw7.5.5","title":"Tests for first-order metrics + registry","description":"Unit/integration tests for plugin output, registry listings, and search behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:01:17.148666-05:00","updated_at":"2025-12-19T17:17:18.46663-05:00","closed_at":"2025-12-19T17:17:18.46663-05:00","close_reason":"Implemented","dependencies":[{"issue_id":"aiobscura-gw7.5.5","depends_on_id":"aiobscura-gw7.5","type":"parent-child","created_at":"2025-12-19T17:01:17.149715-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-ix0","title":"TUI freezes when opening thread detail from Threads view","description":"Repro: open Threads tab in TUI and press Enter on a thread row; UI freezes/hangs instead of opening thread detail. Needs investigation (likely blocking load or event loop).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T15:54:11.78443-05:00","updated_at":"2025-12-19T16:43:32.648012-05:00","closed_at":"2025-12-19T16:43:32.648012-05:00","close_reason":"Fixed thread detail deadlock in get_thread_metadata"}
{"id":"aiobscura-k17","title":"First-order metrics end-to-end wiring","description":"Wire first-order metrics from plugin computation through storage into UI/CLI surfaces (TUI session views, analytics ensure helpers, and any missing triggers).","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-19T17:21:43.960234-05:00","updated_at":"2025-12-19T17:22:02.871571-05:00","dependencies":[{"issue_id":"aiobscura-k17","depends_on_id":"aiobscura-gw7","type":"discovered-from","created_at":"2025-12-19T17:21:43.961961-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-k17.1","title":"Add first-order analytics ensure helper","description":"Add ensure_first_order_metrics helper in analytics engine and top-level API, mirroring ensure_session_analytics freshness checks and plugin run.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:23:04.201199-05:00","updated_at":"2025-12-19T17:27:11.700322-05:00","closed_at":"2025-12-19T17:27:11.700322-05:00","close_reason":"Implemented","dependencies":[{"issue_id":"aiobscura-k17.1","depends_on_id":"aiobscura-k17","type":"parent-child","created_at":"2025-12-19T17:23:04.202096-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-k17.2","title":"Render first-order metrics in TUI session view","description":"Update TUI session view to fetch/display first-order metrics (tokens, tool calls, errors, duration, success rate) using the typed wrapper/ensure helper.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T17:23:15.333612-05:00","updated_at":"2025-12-19T17:36:10.576427-05:00","closed_at":"2025-12-19T17:36:10.576427-05:00","close_reason":"Implemented","dependencies":[{"issue_id":"aiobscura-k17.2","depends_on_id":"aiobscura-k17","type":"parent-child","created_at":"2025-12-19T17:23:15.33456-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-k17.3","title":"Expose first-order metrics in analyze output","description":"Update analyze CLI output defaults or verbosity handling to surface core.first_order metrics in a readable format.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-19T17:23:48.070714-05:00","updated_at":"2025-12-19T17:24:31.199164-05:00","dependencies":[{"issue_id":"aiobscura-k17.3","depends_on_id":"aiobscura-k17","type":"parent-child","created_at":"2025-12-19T17:23:48.071806-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-kfv","title":"Phase 3: Codex parser \u0026 incremental ingestion","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T14:39:18.698859-05:00","updated_at":"2025-12-07T19:27:30.449135-05:00","closed_at":"2025-12-07T19:27:30.449135-05:00","dependencies":[{"issue_id":"aiobscura-kfv","depends_on_id":"aiobscura-514","type":"blocks","created_at":"2025-12-06T14:40:31.8411-05:00","created_by":"kulesh"}]}
{"id":"aiobscura-kkd","title":"Phase 1.5: Data model implementation","description":"Update types.rs, schema.rs, and repo.rs with new data model: Project, Thread, BackingModel, Message (replacing Event), Author, etc.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-06T16:15:44.432672-05:00","updated_at":"2025-12-06T16:15:59.346281-05:00","closed_at":"2025-12-06T16:15:59.346281-05:00"}
{"id":"aiobscura-pjp","title":"EditChurnAnalyzer plugin","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:57.833842-05:00","updated_at":"2025-12-19T15:08:21.304356-05:00","closed_at":"2025-12-19T15:08:21.304356-05:00","close_reason":"Implemented: EditChurnAnalyzer plugin exists and is registered","dependencies":[{"issue_id":"aiobscura-pjp","depends_on_id":"aiobscura-a92","type":"blocks","created_at":"2025-12-08T23:23:03.529191-05:00","created_by":"daemon"}]}
{"id":"aiobscura-rfi","title":"Fix: Claude parser skips image-only user messages","description":"## Description\n\nThe Claude Code parser skips user messages that contain only images (no text content). These are valid prompts (e.g., screenshots shared with the assistant) but are not being captured.\n\n## Evidence\n\nFrom verification of `/Users/kulesh/.claude/projects/-Users-kulesh-dev-catsyphon/f953d50d-e348-4b25-a506-746d769c24d6.jsonl`:\n\n- Expected prompts: 203 (164 text + 19 image+text + 12 image-only + 7 multi-image+text + 1 triple-image+text)\n- Parsed prompts: 191\n- Missing: 12 image-only messages\n\nSample skipped messages:\n```json\n{\"ts\":\"2025-11-22T05:19:44.814Z\",\"content_types\":[\"image\"]}\n{\"ts\":\"2025-11-22T05:25:46.935Z\",\"content_types\":[\"image\"]}\n```\n\n## Root Cause\n\nIn `aiobscura-core/src/ingest/parsers/claude.rs:650-660`, the parser requires non-empty text:\n\n```rust\nif !text.is_empty() {\n    *seq += 1;\n    messages.push(Message {\n        // ...\n        message_type: MessageType::Prompt,\n        content: Some(text.clone()),\n        // ...\n    });\n}\n```\n\nImage-only messages have empty text, so they are skipped.\n\n## Proposed Fix\n\nCreate a Prompt message for image-only content blocks with:\n- `content: None` or `content: Some(\"[image]\")`\n- `metadata: { \"has_image\": true, \"image_count\": N }`\n\nThis preserves the conversation flow and allows analytics to track image usage.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T00:26:55.737606-05:00","updated_at":"2025-12-07T01:10:37.938894-05:00","closed_at":"2025-12-07T01:10:37.938894-05:00"}
{"id":"aiobscura-wzk","title":"TUI DB change detection","description":"Add get_latest_message_ts() and polling in main loop to detect new data","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-08T20:53:51.346091-05:00","updated_at":"2025-12-08T21:02:08.89812-05:00","closed_at":"2025-12-08T21:02:08.89812-05:00","dependencies":[{"issue_id":"aiobscura-wzk","depends_on_id":"aiobscura-3ta","type":"blocks","created_at":"2025-12-08T20:53:57.229738-05:00","created_by":"daemon"},{"issue_id":"aiobscura-wzk","depends_on_id":"aiobscura-2nd","type":"blocks","created_at":"2025-12-08T20:53:57.443939-05:00","created_by":"daemon"}]}
{"id":"aiobscura-xie","title":"Trigger system (event count, inactivity, on-demand)","description":"Implement automatic triggers (EventCount/Inactivity); OnDemand exists but scheduling is not wired.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-08T23:22:57.713694-05:00","updated_at":"2025-12-19T15:08:38.725077-05:00","dependencies":[{"issue_id":"aiobscura-xie","depends_on_id":"aiobscura-af1","type":"blocks","created_at":"2025-12-08T23:23:03.440037-05:00","created_by":"daemon"}]}
